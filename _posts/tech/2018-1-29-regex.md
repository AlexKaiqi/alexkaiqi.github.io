---
title: Regex Expression
date: 2018-01-29 10:21:20
tags: regex
---

## Character classes

name | description
--- | ---
\[ABC\]  | 匹配 \[\] 中任何列出的字符
\[^ABC\] | 匹配所有不是 \[\] 中列出的任何字符
\[A-Z\] \[0-9\] | 匹配范围内的任何字符. 比如 \[0-3\] 等效于 \[0123\], \[a-c\] 等效于 \[abc\]
. | 匹配一个任何不是\r或\n的字符, 等效于 \[^\n\r\]
\w | 匹配所有英文字母, 数字, 以及下划线_, 等效于 \[A-Za-z0-9_\]
\W | 匹配任何不是\w的字符, 等效于 \[^A-Za-z0-9_\]
\d | 匹配任何数字, 等效于 \[0-9\]
\D | 匹配任何不是\d的字符, 等效于\ [^0-9\]
\s | 匹配任何空白符, 包括 (spaces, Tab, 换行符)
\S | 匹配任何非空白符的字符
\p{L} or \pL | 匹配给定Unicode集合中的任何字符, 比如 \p{Ll} 会匹配任何小写字母. 见 [PCRE详细说明][PCRE]
\P{L} or \P{^L} or \PL | 匹配任何非给定Unicode集合中的字符
\p{Han} | 匹配给定Unicode脚本中的任何字符. 比如 \p{Han} 或 \p{script=Han} 会匹配任何中文字符. 见 [PCRE详细说明][PCRE]
\P{Han} | 匹配任何非给定Unicode脚本中的字符
\[\[:posixClasses\]\] | 匹配给定posix字符集中的任何字符. 见 [PCRE详细说明][PCRE]

[PCRE]: http://www.pcre.org/original/doc/html/pcrepattern.html

## Anchors

name | description
--- | ---
\A | 匹配一个字符串的起始位置, 且不同于^, \A 不受到m(多行标志)的影响
\Z | 匹配一个字符串的结尾位置, 且不同于$, \Z 不受到m(多行标志)的影响
^ | 匹配一个字符串的起始位置.
$ | 匹配一个字符串的结尾位置
\b | 匹配一个单词的边界. 即

## Quantifiers & Alternation

name | description
--- | ---
{1, 3}(quantifier) | Matches the specified quantity of the previous token. {1,3} will match 1 to 3. {3} will match exactly 3. {3,} will match 3 or more.
?(optional) | Matches 0 or 1 of the preceding token, effectively making it optional.
?(lazy) | Makes the preceding quantifier lazy, causing it to match as few characters as possible. By default, quantifiers are greedy, and will match as many characters as possible. This behaviour is reversed by the ungreedy (U) flag/modifier.
+(positive) | Makes the preceding quantifier possessive. It will match as many characters as possible, and will not release them to match subsequent tokens.
\|(alternation) | Acts like a boolean OR. Matches the expression before or after the \|. It can operate within a group, or on a whole expression. The patterns will be tested in order.


## Look around

name | description
--- | ---
(?=ABC) | Matches a group after the main expression without including it in the result.
(?!ABC) | Specifies a group that can not match after the main expression (if it matches, the result is discarded).
(?<=ABC) | Matches a group before the main expression without including it in the result.
(?<!ABC) | Specifies a group that can not match before the main expression (if it matches, the result is discarded).
\K | Keep text matched so far out of the returned match, essentially discarding the match up to this point.For example /o\Kbar/ will match bar within the string foobar

>\v \V \h \H can be replaced by other combination. So no need to remember unless you use it a lot.




>  See http://www.pcre.org/original/doc/html/pcrepattern.html


## Atomic groups
a(?> bc|b)c

## Lazy vs Eager
For example, if you want to match all content inside a
{.*?}

> Notice: Be aware that lazy mode has drawbacks. It's less efficient than eager mode.

## Line breaks
windows use \r\n as new line
linux use \n as new line
old mac use \r as new line

So, to match a new line you might want to use (\r\n|\r|\n) to match a single line break.

